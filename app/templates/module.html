{% extends 'base.html' %}

{% block body %}
<div style="padding:10%; padding-top:0%;">
    <h5 style="font-weight:bolder; text-align:center; margin-bottom:5%;">{{module.title}}</h5>
    {% if module.content1 %}
        <div>
            <p>{{module.content1|safe}}</p>
        </div>
    {% else %}
        
    {% endif %}
    {% if module.image1 %}
        <div style="display:flex; justify-content:center; margin:5%;">
            {% if module.image1size %}
                <img  width='{{module.image1size}}%' src="data:image;base64,{{base64encode(module.image1.read())}}">
            {% else %}
                <img  width='65%' src="data:image;base64,{{base64encode(module.image1.read())}}">
            {% endif %}
        </div>
    {% else %}
        
    {% endif %}
    {% if module.video1 %}
        <div style="display:flex; justify-content:center; margin:5%;">
        <iframe  width="740" height="440"
            src="{{module.video1}}?control=1">
        </iframe>
    </div>
    {% else %}
        
    {% endif %}
    {% if module.content2 %}
        <div>
            <p>{{module.content2|safe}}</p>
        </div>
    {% else %}
        
    {% endif %}
    {% if module.image2 %}
        <div style="display:flex; justify-content:center; margin:5%;">
            <img  width='75%' src="data:image;base64,{{base64encode(module.image2.read())}}">
        </div>
    {% else %}
        
    {% endif %}
    {% if module.video2 %}
        <div style="display:flex; justify-content:center; margin:5%;">
        <iframe  width="740" height="440"
            src="{{module.video2}}?control=1">
        </iframe>
    </div>
    {% else %}
        
    {% endif %}
    {% if module.content3 %}
        <div>
            <p>{{module.content3|safe}}</p>
        </div>
    {% else %}
        
    {% endif %}
    {% if module.image3 %}
        <div style="display:flex; justify-content:center; margin:5%;">
            <img width='75%' src="data:image;base64,{{base64encode(module.image3.read())}}">
        </div>
    {% else %}
        
    {% endif %}
    {% if module.content4 %}
        <div>
            <p>{{module.content4|safe}}</p>
        </div>
    {% else %}
        
    {% endif %}
    {% if module.video3 %}
        <div style="display:flex; justify-content:center; margin:5%;">
        <iframe  width="740" height="440"
            src="{{module.video3}}?control=1">
        </iframe>
    </div>
    {% else %}
        
    {% endif %}
</div>
    {% if module.verified == False %}
        {% if (current_user.email == "anlisa.liu2468@gmail.com") %}
            <div style="display:flex; justify-content:space-between;">
                <a href="/verifyModule/{{module.id}}" style="text-decoration:none;">
                    <button class='text-light' style=" float:right; margin-top:5%; padding-top:1.5%; padding-left:7%; padding-bottom:1.5%; padding-right:7%; border:none; background-color:#2a7877; border-radius:15px; text-decoration:none;">
                        Validate Course
                    </button>
                </a>
                <a  style='float:right; background-color:#2a7877;'  class="ml-3 pb-2"  data-toggle="tooltip" data-placement="top" title="Delete Module" href="/module/delete/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/delete.png">
                </a>
                <a style='float:right; background-color:#2a7877;' data-toggle="tooltip" data-placement="top" title="Edit Module" href="/module/edit/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/edit.png">
                </a>
            </div>
        {% endif %}
        {% if (current_user.email == "amytran2303@gmail.com") %}
            <div class="col">
                <a href="/verifyModule/{{module.id}}" style="text-decoration:none;">
                    <button class='text-light' style=" float:right; margin-top:5%; padding-top:1.5%; padding-left:7%; padding-bottom:1.5%; padding-right:7%; border:none; background-color:#2a7877; border-radius:15px; text-decoration:none;">
                        Validate Course
                    </button>
                </a>
                <a style='float:right; background-color:#2a7877;'  class="ml-3 pb-2"  data-toggle="tooltip" data-placement="top" title="Delete Module" href="/module/delete/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/delete.png">
                </a>
                <a style='float:right; background-color:#2a7877;' data-toggle="tooltip" data-placement="top" title="Edit Module" href="/module/edit/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/edit.png">
                </a>
            </div>
            </div>
        {% endif %}
    {% else %}
    
    {% endif %}
    {% if module.verified %}
        {% if module in current_user.CompletedModules %}
            <h3>Completed</h3>
        {% else %}
            {% if (current_user.email == "anlisa.liu2468@gmail.com") %}

            {% elif (current_user.email == "amytran2303@gmail.com") %}

            {% else %}
                <a href="/completeModule/{{module.id}}" class='mb-2' style="text-decoration:none;">
                    <button class='text-light mb-2' style=" float:left; padding:1.5% 3%;  border:none; background-color:#2a7877; border-radius:15px;">
                        Mark as done
                    </button>
                </a>
                <br><br><br><br>
            {% endif %}
        {% endif %}
        {% if (current_user.email == "anlisa.liu2468@gmail.com") %}
            <div style="display:flex; justify-content:space-between;">
                {% if module in current_user.CompletedModules %}
                    
                {% else %}
                    <a href="/completeModule/{{module.id}}" style="text-decoration:none;">
                        <button class='text-light' style=" float:right; margin-top:5%; padding-top:1.5%; padding-left:3%; padding-bottom:1.5%; padding-right:3%; border:none; background-color:#2a7877; border-radius:15px; text-decoration:none;">
                            Mark as done
                        </button>
                    </a>
                {% endif %}
                <a  style='float:right; background-color:#2a7877;'  class="ml-3 pb-2"  data-toggle="tooltip" data-placement="top" title="Delete Module" href="/module/delete/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/delete.png">
                </a>
                <a style='float:right; background-color:#2a7877;' data-toggle="tooltip" data-placement="top" title="Edit Module" href="/module/edit/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/edit.png">
                </a>
            </div>
        {% endif %}
        {% if (current_user.email == "amytran2303@gmail.com") %}
            <div class="col">
                {% if module in current_user.CompletedModules %}
                    
                {% else %}
                    <a href="/completeModule/{{module.id}}" style="text-decoration:none;">
                        <button class='text-light' style=" float:right; margin-top:5%; padding-top:1.5%; padding-left:3%; padding-bottom:1.5%; padding-right:3%; border:none; background-color:#2a7877; border-radius:15px; text-decoration:none;">
                            Mark as done
                        </button>
                    </a>
                {% endif %}
                <a style='float:right; background-color:#2a7877;'  class="ml-3 pb-2"  data-toggle="tooltip" data-placement="top" title="Delete Module" href="/module/delete/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/delete.png">
                </a>
                <a style='float:right; background-color:#2a7877;' data-toggle="tooltip" data-placement="top" title="Edit Module" href="/module/edit/{{module.id}}">
                    <img class='bg-white' width="40" src="../static/edit.png">
                </a>
            </div>
        {% endif %}
    {% endif %}
    
</div>
{% endblock %}